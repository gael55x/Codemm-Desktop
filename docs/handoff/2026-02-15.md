# Handoff: 2026-02-15

## Summary

- Improved app launch UX: the startup splash now includes deterministic progress bars and status text instead of a static “Launching…” screen.

## Iteration Log

### Iteration 1 (Startup Splash Progress)

- Added progress bars to the Electron startup splash and updated them across boot phases (deps, Docker judge, engine, UI) (`apps/ide/main.js`).

### Iteration 2 (Splash Simplification)

- Simplified the startup splash to a single progress bar with a changing status line (still stage-driven/deterministic) (`apps/ide/main.js`).

### Iteration 3 (Java Generation Stability)

- Fixed Java class/test name inference to prefer the top-level public class, and hardened Java reference-solution repair to re-validate deterministic invariants (reduces compile-time failures for multi-class OOP problems) (`apps/backend/src/utils/javaCodegen.ts`, `apps/backend/src/languages/java/judge.ts`, `apps/backend/src/generation/perSlotGenerator.ts`).

### Iteration 4 (Generation Evidence Events + Obligations IR)

- Added an internal obligations IR and a new `slot_evidence` generation progress event that records deterministic, non-sensitive evidence (obligation IDs + pass/fail) for each slot attempt (`apps/backend/src/generation/obligations.ts`, `apps/backend/src/generation/index.ts`, `apps/backend/src/contracts/generationProgress.ts`, `apps/frontend/src/types/generationProgress.ts`).

### Iteration 5 (Java Deterministic Rewriters + IO Contract)

- Added deterministic Java rewrite passes to reduce retry thrash (demote extra top-level `public` types; rename mismatched JUnit test class to the expected `${Target}Test`) and enforced a deterministic no-stdin contract for non-interactive styles (rejects `System.in`/`Scanner` usage) (`apps/backend/src/utils/javaSource.ts`, `apps/backend/src/utils/javaRewrite.ts`, `apps/backend/src/generation/perSlotGenerator.ts`).

## How to Run

- Dev: `npm run dev`

## Known Issues / Next

- Progress is coarse stage-based (deterministic) rather than log-derived per-Docker-step progress.
